<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:ClientMobileApp.ViewModels"
             x:Class="ClientMobileApp.Pages.ModalPages.PhoneNumberModalPage"
             BackgroundColor="White" >
    <ContentPage.BindingContext>
        <vm:RegisterViewModel/>
    </ContentPage.BindingContext>
    <Border Padding="5,15,5,5" Margin="0,15,0,0" Stroke="Black" StrokeThickness="1"
            BackgroundColor="Azure" >
        <Border.Shadow>
            <Shadow Brush="Black" Radius="10" Opacity="0.8" Offset="0,-8"/>
        </Border.Shadow>
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="40,40,0,0"/>
        </Border.StrokeShape>
        <Border.GestureRecognizers>
            <SwipeGestureRecognizer Direction="Down" Command="{Binding PopModalPageCommand}"/>
        </Border.GestureRecognizers>
        <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,*,Auto" ColumnDefinitions="Auto,*" Padding="5" 
          ColumnSpacing="5" RowSpacing="5">
            <Label Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" FontSize="30"
                   FontAttributes="Bold" HorizontalOptions="Center" TextColor="Blue" FontFamily="OpenSansSemibold"
                   >
                <Label.Shadow>
                    <Shadow Brush="Black" Radius="5" Offset="0,0" Opacity="0.5"/>
                </Label.Shadow>
                <Label.FormattedText>
                    <FormattedString>
                        <Span Text="{Binding LocalizedTexts.P02UI00}" TextColor="DarkBlue"/>
                        <Span Text="[1/2]" TextColor="Red"/>
                    </FormattedString>
                </Label.FormattedText>
            </Label>

            <Label Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding LocalizedTexts.P02UI01}" FontSize="16" 
                   HorizontalOptions="Start" TextColor="DarkBlue" FontAttributes="Bold" />

            <Entry Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Keyboard="Numeric" FontSize="24" CharacterSpacing="2" MaxLength="12"
               Placeholder="998 901234567" HorizontalTextAlignment="Center" x:Name="entryPhoneNumber"
                   Text="{Binding PhoneNumber}"> 
            </Entry>

            <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding LocalizedTexts.P02UI02}" FontSize="16"
                   HorizontalOptions="Start" TextColor="DarkBlue" FontAttributes="Bold" >
                <Label.GestureRecognizers>
                    <TapGestureRecognizer NumberOfTapsRequired="2" Command="{Binding showSMSCodeCommand}" />
                </Label.GestureRecognizers>
            </Label>

            <Entry Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" Placeholder="[][][][]" Keyboard="Numeric" IsEnabled="True"
               CharacterSpacing="16" MaxLength="4" FontSize="36" HorizontalTextAlignment="Center"
                   Text="{Binding SmsCode}" >
            </Entry>

            <CheckBox Grid.Row="5" Grid.Column="0" IsChecked="{Binding TermsChecked}" VerticalOptions="End" Color="Green"/>
            <Label Grid.Row="5" Grid.Column="1" Text="{Binding LocalizedTexts.P02UI03}" VerticalOptions="End"
               VerticalTextAlignment="Center" FontSize="17" />

            <Button Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Text="{Binding LocalizedTexts.P02UI04}" Clicked="Button_Clicked" VerticalOptions="End" IsEnabled="{Binding TermsChecked}"
                    BackgroundColor="Green" FontSize="16" />
        </Grid>
    </Border>
</ContentPage>